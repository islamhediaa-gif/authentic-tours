import{r as n,j as e,h as m,w as u,o as p}from"./index-CnE16RuQ-v301.js";import{S as b}from"./shield-RBCObbDq-v301.js";const g=({currentUser:r,setUsers:i})=>{const[s,l]=n.useState({current:"",new:"",confirm:""}),[a,d]=n.useState(null),c=t=>{if(t.preventDefault(),!!r){if(s.current!==r.password){d({msg:"كلمة المرور الحالية غير صحيحة!",type:"error"});return}if(s.new!==s.confirm){d({msg:"كلمة المرور الجديدة غير متطابقة!",type:"error"});return}if(s.new.length<4){d({msg:"كلمة المرور يجب أن تكون 4 رموز على الأقل",type:"error"});return}i(x=>x.map(o=>o.id===r.id?{...o,password:s.new}:o)),d({msg:"تم تغيير كلمة المرور بنجاح!",type:"success"}),l({current:"",new:"",confirm:""})}};return e.jsx("div",{className:"max-w-2xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-500",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500 opacity-10 rounded-full blur-3xl -translate-y-32 translate-x-32"}),e.jsxs("div",{className:"relative z-10 flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-2xl flex items-center justify-center border border-white/10 backdrop-blur-sm",children:e.jsx(m,{size:40,className:"text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:r?.name}),e.jsxs("p",{className:"text-slate-400 font-medium",children:["@",r?.username," • ",r?.role]})]})]})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsx("div",{className:"p-3 bg-slate-900 text-indigo-400 rounded-xl shadow-sm",children:e.jsx(b,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"تغيير كلمة المرور الشخصية"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"تأكد من اختيار كلمة مرور قوية لحماية بيانات الشركة المالية"})]})]}),a&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 font-bold text-sm ${a.type==="success"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[a.type==="success"?e.jsx(u,{size:18}):e.jsx(p,{size:18}),a.msg]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"كلمة المرور الحالية"}),e.jsx("input",{type:"password",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 focus:border-indigo-600 rounded-xl font-bold text-lg outline-none transition-all",value:s.current,onChange:t=>l({...s,current:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"كلمة المرور الجديدة"}),e.jsx("input",{type:"password",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 focus:border-indigo-600 rounded-xl font-bold text-lg outline-none transition-all",value:s.new,onChange:t=>l({...s,new:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"تأكيد كلمة المرور الجديدة"}),e.jsx("input",{type:"password",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 focus:border-indigo-600 rounded-xl font-bold text-lg outline-none transition-all",value:s.confirm,onChange:t=>l({...s,confirm:t.target.value})})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:bg-emerald-600 transition-all transform active:scale-[0.98] border-b-4 border-slate-900 hover:border-emerald-700",children:"تحديث كلمة المرور الآن"})]})]})]})})};export{g as default};
