import{c as re,r as o,j as e,B as Ue,S as Pe,I as V,w as K,o as Q,m as R,C as Oe,K as Le,L as $e,z as Ge,J as W}from"./index-CnE16RuQ-v301.js";import{U as Z}from"./user-check-Bed3LAv8-v301.js";import{M as Me}from"./map-pin-dW0gvwSh-v301.js";import{P as _e}from"./phone-CsGZ6JDg-v301.js";import{M as Fe}from"./mail-DTBYkCu8-v301.js";import{F as He}from"./facebook-BDWLwsR3-v301.js";import{S as Xe}from"./save-D9SZdYmd-v301.js";import{S as ee}from"./shield-RBCObbDq-v301.js";import{P as b}from"./plus-B95smZfl-v301.js";import{T as f}from"./trash-2-BuMYu1xE-v301.js";import{D as te}from"./download-BObYGMgF-v301.js";import{C as se}from"./clock-DIy8dwqr-v301.js";import{A as ae}from"./award-BWjWMHor-v301.js";const qe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],le=re("key",qe);const Je=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Be=re("upload",Je),nt=({settings:m,setSettings:z,currencies:E,setCurrencies:U,deleteCurrency:ie,partners:P,setPartners:de,deletePartner:oe,fullData:O,onRestore:ne,users:Ye,setUsers:ce,currentUser:j,formatCurrency:xe,costCenters:me,addCostCenter:pe,updateCostCenter:Ve,deleteCostCenter:be,auditLogs:he,shifts:k,setShifts:ue,deleteShift:ge,departments:N,setDepartments:fe,deleteDepartment:je,designations:L,setDesignations:Ne,deleteDesignation:ve,licenseInfo:h,onActivate:$,onRepairAttribution:we,onManualPull:G,onManualPush:M,onNavigate:_})=>{const[r,x]=o.useState(m),[l,n]=o.useState("IDENTITY"),[c,v]=o.useState({current:"",new:"",confirm:""}),[w,y]=o.useState(null),[g,C]=o.useState(!1),[T,F]=o.useState(""),[i,S]=o.useState({code:"",name:"",symbol:"",rate:1}),[d,u]=o.useState({name:"",startTime:"09:00",endTime:"17:00",gracePeriod:15,deductionRate:0,deductionType:"FIXED"}),ye=t=>{if(t.preventDefault(),!d.name)return;const s={...d,id:`SH-${Date.now()}`};ue([...k,s]),u({name:"",startTime:"09:00",endTime:"17:00",gracePeriod:15,deductionRate:0,deductionType:"FIXED"})},Ce=t=>{if(t.preventDefault(),!i.code||!i.name||!i.symbol)return;if(E.find(a=>a.code.toUpperCase()===i.code.toUpperCase())){alert("العملة موجودة بالفعل!");return}const s={code:i.code.toUpperCase(),name:i.name,symbol:i.symbol,rateToMain:i.rate};U([...E,s]),S({code:"",name:"",symbol:"",rate:1})},Se=t=>{confirm(`هل أنت متأكد من تعيين ${t} كعملة أساسية للنظام؟
تنبيه: هذا قد يؤثر على الحسابات إذا كانت هناك عمليات مسجلة.`)&&z({...m,baseCurrency:t})},H=o.useRef(null),X=o.useRef(null),Ee=t=>{if(t.preventDefault(),!T.trim())return;const s={id:`P-${Date.now()}`,name:T,balance:0};de([...P,s]),F("")},[I,q]=o.useState(""),[A,J]=o.useState(""),[D,ke]=o.useState(""),Te=t=>{if(t.preventDefault(),!I.trim())return;const s={id:`DEPT-${Date.now()}`,name:I.trim()};fe([...N,s]),q("")},Ie=t=>{if(t.preventDefault(),!A.trim()||!D)return;const s={id:`DESIG-${Date.now()}`,name:A.trim(),departmentId:D};Ne([...L,s]),J("")},B=t=>{t.preventDefault(),z(r),alert("✅ تم تحديث بيانات الشركة بنجاح!")},Ae=t=>{if(t.preventDefault(),!!j){if(c.current!==j.password){y({msg:"كلمة المرور الحالية غير صحيحة!",type:"error"});return}if(c.new!==c.confirm){y({msg:"كلمة المرور الجديدة غير متطابقة!",type:"error"});return}if(c.new.length<4){y({msg:"كلمة المرور يجب أن تكون 4 رموز على الأقل",type:"error"});return}ce(s=>s.map(a=>a.id===j.id?{...a,password:c.new}:a)),y({msg:"تم تغيير كلمة المرور بنجاح!",type:"success"}),v({current:"",new:"",confirm:""})}},De=(t,s)=>{U(a=>a.map(p=>p.code===t?{...p,previousRate:p.rateToMain,rateToMain:s}:p))},Re=()=>{const t=new Blob([JSON.stringify(O)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`Backup_Nebras_${new Date().toISOString().split("T")[0]}.json`,a.click(),localStorage.setItem("last_manual_backup",Date.now().toString())},ze=t=>{const s=t.target.files?.[0];if(s){const a=new FileReader;a.onload=p=>{try{const Y=JSON.parse(p.target?.result);confirm("⚠️ تنبيه: استعادة البيانات ستحذف كافة السجلات الحالية. هل أنت متأكد؟")&&ne(Y)}catch{alert("❌ فشل في قراءة الملف")}},a.readAsText(s)}};return e.jsx("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-500",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-slate-50 p-2 flex gap-2 overflow-x-auto border-b border-slate-200 no-scrollbar",children:[e.jsx("button",{onClick:()=>n("IDENTITY"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="IDENTITY"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"هوية الشركة"}),e.jsx("button",{onClick:()=>n("CURRENCIES"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="CURRENCIES"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"العملات والصرف"}),m.enableCostCenters&&e.jsx("button",{onClick:()=>n("COST_CENTERS"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="COST_CENTERS"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"مراكز التكلفة"}),e.jsx("button",{onClick:()=>n("SHIFTS"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="SHIFTS"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"أنظمة الدوام"}),e.jsx("button",{onClick:()=>n("DEPARTMENTS"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="DEPARTMENTS"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"الأقسام الإدارية"}),e.jsx("button",{onClick:()=>n("DESIGNATIONS"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="DESIGNATIONS"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"المسميات الوظيفية"}),e.jsx("button",{onClick:()=>n("PARTNERS"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="PARTNERS"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"حسابات الشركاء"}),e.jsx("button",{onClick:()=>n("AUDIT"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="AUDIT"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"سجل العمليات"}),e.jsx("button",{onClick:()=>n("AI"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="AI"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"الذكاء الاصطناعي"}),e.jsx("button",{onClick:()=>n("SECURITY"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="SECURITY"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"أمن النظام"}),e.jsx("button",{onClick:()=>n("LICENSE"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="LICENSE"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"التفعيل والترخيص"}),e.jsx("button",{onClick:()=>n("BACKUP"),className:`px-6 py-2.5 rounded-xl font-bold text-sm transition-all whitespace-nowrap ${l==="BACKUP"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:bg-slate-200 bg-opacity-50"}`,children:"النسخ الاحتياطي"})]}),l==="IDENTITY"&&e.jsxs("form",{onSubmit:B,className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-start",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Ue,{size:16,className:"text-indigo-600"})," اسم البرنامج أو الشركة"]}),e.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-xl font-bold text-xl text-slate-900 outline-none shadow-sm transition-all",value:r.name,onChange:t=>x({...r,name:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Z,{size:16,className:"text-indigo-600"})," اسم المحاسب / المدير المالي"]}),e.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-xl font-bold text-lg text-slate-900 outline-none shadow-sm transition-all",value:r.accountantName,onChange:t=>x({...r,accountantName:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Me,{size:16,className:"text-indigo-600"})," العنوان"]}),e.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-xl font-bold text-sm text-slate-900 outline-none",value:r.address||"",onChange:t=>x({...r,address:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(_e,{size:16,className:"text-indigo-600"})," أرقام الهاتف"]}),e.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-xl font-bold text-sm text-slate-900 outline-none",value:r.phone||"",onChange:t=>x({...r,phone:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Fe,{size:16,className:"text-indigo-600"})," البريد الإلكتروني"]}),e.jsx("input",{type:"email",className:"w-full p-3 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-xl font-bold text-sm text-slate-900 outline-none",value:r.email||"",onChange:t=>x({...r,email:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(He,{size:16,className:"text-indigo-600"})," فيسبوك"]}),e.jsx("input",{type:"text",className:"w-full p-3 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-xl font-bold text-sm text-slate-900 outline-none",value:r.facebook||"",onChange:t=>x({...r,facebook:t.target.value})})]}),e.jsx("div",{className:"space-y-3 md:col-span-2",children:e.jsxs("label",{className:"flex items-center gap-4 p-4 bg-indigo-50 rounded-2xl border border-indigo-100 cursor-pointer hover:bg-indigo-100 bg-opacity-50 transition-colors",children:[e.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-md border-indigo-500 text-indigo-600 focus:ring-indigo-500",checked:r.enableCostCenters||!1,onChange:t=>x({...r,enableCostCenters:t.target.checked})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-indigo-900 text-lg",children:"تفعيل نظام الفروع / مراكز التكلفة"}),e.jsx("p",{className:"text-indigo-600 text-sm",children:"يسمح بفصل الحسابات والتقارير لكل فرع أو نشاط بشكل مستقل."})]})]})})]})]}),e.jsxs("div",{className:"flex flex-col items-center bg-slate-50 p-8 rounded-3xl border border-dashed border-slate-200 relative group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("img",{src:r.logo,className:"w-48 h-48 rounded-2xl border-2 border-white shadow-lg object-cover relative z-10"}),e.jsx("button",{type:"button",onClick:()=>H.current?.click(),className:"absolute -bottom-4 -right-4 bg-indigo-600 text-white p-4 rounded-xl shadow-xl z-20 hover:scale-110 transition-transform",children:e.jsx(Be,{size:20})})]}),e.jsx("input",{type:"file",ref:H,className:"hidden",accept:"image/*",onChange:t=>{const s=t.target.files?.[0];if(s){const a=new FileReader;a.onloadend=()=>x({...r,logo:a.result}),a.readAsDataURL(s)}}}),e.jsx("p",{className:"text-slate-400 text-xs font-bold",children:"شعار الشركة (يفضل خلفية شفافة)"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-bold text-xl shadow-lg hover:bg-indigo-600 transition-all transform active:scale-[0.98] border-b-4 border-slate-900 hover:border-indigo-700",children:"حفظ الإعدادات"})]}),l==="AI"&&e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 p-8 rounded-[2rem] border border-indigo-100 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute right-0 top-0 w-32 h-32 bg-indigo-600 rounded-full blur-[80px] -mr-16 -mt-16 opacity-10 group-hover:opacity-20 transition-opacity"}),e.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-200 transform group-hover:scale-105 transition-transform",children:e.jsx(Pe,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"إعدادات المساعد الذكي (نِبـراس إكس)"}),e.jsx("p",{className:"text-indigo-600 font-bold text-sm",children:"اربط النظام بمحرك Google Gemini للحصول على تحليلات مالية متقدمة مجاناً."})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-slate-200 shadow-sm space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] flex items-center gap-2",children:["GOOGLE GEMINI API KEY ",e.jsx(le,{size:12})]})}),e.jsx("input",{type:"password",placeholder:"أدخل مفتاح API الخاص بك هنا...",className:"w-full p-4 bg-slate-50 border border-slate-200 focus:border-indigo-500 rounded-2xl font-mono text-center text-lg outline-none transition-all focus:bg-white focus:shadow-inner",value:r.geminiApiKey||"",onChange:t=>x({...r,geminiApiKey:t.target.value})}),e.jsxs("div",{className:"p-5 bg-amber-50 rounded-2xl border border-amber-100 flex items-start gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-500 text-white rounded-lg flex items-center justify-center shrink-0 shadow-sm",children:e.jsx(V,{size:18})}),e.jsxs("p",{className:"text-xs font-bold text-amber-800 leading-relaxed",children:["يمكنك الحصول على مفتاح مجاني تماماً من ",e.jsx("a",{href:"https://aistudio.google.com/",target:"_blank",rel:"noreferrer",className:"underline text-indigo-600",children:"Google AI Studio"}),". هذا المفتاح يسمح للمساعد بتحليل بياناتك والرد على استفساراتك المالية بدقة عالية."]})]})]}),e.jsxs("button",{onClick:B,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold flex items-center justify-center gap-3 hover:bg-indigo-700 shadow-xl shadow-indigo-200 transition-all active:scale-[0.98]",children:[e.jsx(Xe,{size:20})," حفظ إعدادات الذكاء الاصطناعي"]})]})]}),l==="SECURITY"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsx("div",{className:"p-3 bg-slate-900 text-indigo-400 rounded-xl shadow-sm",children:e.jsx(ee,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"تغيير كلمة المرور الشخصية"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"تأكد من اختيار كلمة مرور قوية لحماية بيانات الشركة المالية"})]})]}),w&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 font-bold text-sm ${w.type==="success"?"bg-indigo-50 text-indigo-700":"bg-rose-50 text-rose-700"}`,children:[w.type==="success"?e.jsx(K,{size:18}):e.jsx(Q,{size:18}),w.msg]}),e.jsxs("form",{onSubmit:Ae,className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"كلمة المرور الحالية"}),e.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-lg",value:c.current,onChange:t=>v({...c,current:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"كلمة المرور الجديدة"}),e.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-lg",value:c.new,onChange:t=>v({...c,new:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"تأكيد كلمة المرور الجديدة"}),e.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-lg",value:c.confirm,onChange:t=>v({...c,confirm:t.target.value})})]}),e.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold text-lg shadow-sm hover:bg-indigo-600 transition-all",children:"تحديث كلمة المرور الآن"})]})]}),l==="CURRENCIES"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 p-6 rounded-2xl border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-indigo-600 text-white rounded-xl shadow-sm",children:e.jsx(R,{size:20,className:r.autoUpdateCurrency?"animate-spin-slow":""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-indigo-900",children:"التحديث التلقائي لأسعار الصرف"}),e.jsx("p",{className:"text-indigo-700 font-medium text-xs",children:"جلب أحدث الأسعار آلياً من سوق الصرف عند فتح البرنامج"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r.autoUpdateCurrency||!1,onChange:t=>{const s=t.target.checked;x(a=>({...a,autoUpdateCurrency:s}))}}),e.jsx("div",{className:"w-14 h-7 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-6 after:transition-all peer-checked:bg-indigo-600"})]})]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(b,{size:20,className:"text-indigo-600"})," إضافة عملة جديدة"]}),e.jsxs("form",{onSubmit:Ce,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"كود العملة (مثل USD)"}),e.jsx("input",{type:"text",required:!0,placeholder:"USD",className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold uppercase",value:i.code,onChange:t=>S({...i,code:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"اسم العملة"}),e.jsx("input",{type:"text",required:!0,placeholder:"دولار",className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold",value:i.name,onChange:t=>S({...i,name:t.target.value})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"الرمز"}),e.jsx("input",{type:"text",required:!0,placeholder:"$",className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold text-center",value:i.symbol,onChange:t=>S({...i,symbol:t.target.value})})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-indigo-600 transition-all h-[50px]",children:[e.jsx(b,{size:18})," إضافة"]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:E.map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative overflow-hidden group",children:[t.code===m.baseCurrency&&e.jsx("div",{className:"absolute top-0 left-0 bg-indigo-600 text-white px-3 py-0.5 rounded-br-xl text-[9px] font-bold uppercase tracking-wider z-10",children:"الأساسية"}),e.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-full bg-indigo-600"}),e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.symbol}),e.jsxs("div",{className:"flex gap-1",children:[t.code!==m.baseCurrency&&e.jsx("button",{onClick:()=>Se(t.code),className:"p-1.5 text-slate-300 hover:text-indigo-600 transition-colors",title:"تعيين كعملة أساسية",children:e.jsx(Oe,{size:14})}),t.code!==m.baseCurrency&&e.jsx("button",{onClick:()=>ie(t.code),className:"p-1.5 text-slate-300 hover:text-rose-600 transition-colors",title:"حذف",children:e.jsx(f,{size:14})})]})]}),e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-4",children:[t.name," (",t.code,")"]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-[9px] font-bold text-slate-400 uppercase",children:["سعر الصرف (مقابل ",m.baseCurrency,")"]}),e.jsx("input",{type:"number",disabled:t.code===m.baseCurrency,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg font-bold text-base text-center",value:t.rateToMain,onChange:s=>De(t.code,parseFloat(s.target.value))})]})]},t.code))}),e.jsxs("div",{className:"bg-amber-50 p-6 rounded-2xl border border-amber-100 flex items-start gap-3",children:[e.jsx(V,{size:18,className:"text-amber-600 shrink-0"}),e.jsx("p",{className:"text-xs font-bold text-amber-800 leading-relaxed",children:"تنبيه: تغيير أسعار الصرف يؤثر فقط على العمليات الجديدة. العمليات القديمة ستحتفظ بسعر الصرف الذي تمت به وقت تسجيلها لضمان ثبات الدفاتر المحاسبية."})]})]}),l==="PARTNERS"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"إضافة شريك جديد"}),e.jsxs("form",{onSubmit:Ee,className:"flex gap-4",children:[e.jsx("input",{type:"text",required:!0,placeholder:"اسم الشريك...",className:"flex-1 p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none focus:border-indigo-600",value:T,onChange:t=>F(t.target.value)}),e.jsxs("button",{type:"submit",className:"bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-600 transition-all",children:[e.jsx(b,{size:18})," إضافة الشريك"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative group",children:[e.jsx("button",{onClick:()=>oe(t.id),className:"absolute top-3 left-3 p-1.5 text-slate-300 hover:text-rose-600 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(f,{size:16})}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-0.5",children:"حساب جاري شريك"}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-4",children:t.name}),e.jsxs("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"الرصيد الجاري"}),e.jsx("p",{className:`text-xl font-bold ${t.balance>=0?"text-emerald-600":"text-rose-600"}`,children:xe(t.balance)})]}),e.jsx("div",{className:"w-8 h-8 bg-slate-50 rounded-lg flex items-center justify-center text-slate-400",children:e.jsx(Z,{size:16})})]})]},t.id))})]}),l==="LICENSE"&&e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in slide-in-from-bottom-5",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg shadow-indigo-200",children:e.jsx(le,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"تنشيط وترخيص النظام"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"عرض كود الجهاز الخاص بك وإدخال مفتاح التفعيل"})]})]}),h&&h.isActivated?e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 p-6 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(K,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-emerald-800 font-bold text-lg",children:"النظام مفعل بنجاح"}),e.jsxs("p",{className:"text-emerald-600 text-xs font-bold",children:["تاريخ التثبيت: ",new Date(h.installationDate).toLocaleDateString("ar-EG")]})]})]}):e.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-6 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center",children:e.jsx(Q,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-800 font-bold text-lg",children:"النظام في الفترة التجريبية"}),e.jsx("p",{className:"text-amber-600 text-xs font-bold",children:"يرجى تفعيل النسخة الاحترافية للحصول على الدعم الكامل والتحديثات."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block",children:"كود الماكينة الفريد (Machine ID)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("code",{className:"flex-1 bg-slate-100 p-4 rounded-xl font-mono text-indigo-600 text-center text-lg tracking-wider border border-slate-200 select-all",children:h?.machineId||"جاري التحميل..."}),e.jsx("button",{type:"button",onClick:()=>{h?.machineId&&(navigator.clipboard.writeText(h.machineId),alert("تم نسخ كود الماكينة"))},className:"p-4 bg-white border border-slate-200 hover:bg-slate-50 rounded-xl transition-colors shadow-sm",children:e.jsx(b,{size:20,className:"text-slate-400 rotate-45"})})]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold leading-relaxed",children:"هذا الكود فريد لجهازك أو حسابك. برجاء إرساله للمطور للحصول على مفتاح التفعيل الخاص بك."}),e.jsx("div",{className:"pt-4 flex flex-col gap-2",children:e.jsx("button",{type:"button",onClick:()=>window.open(`https://wa.me/201148820573?text=أريد تفعيل النسخة الاحترافية - كود الجهاز: ${h?.machineId}`,"_blank"),className:"w-full py-3 bg-emerald-600 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-emerald-700 transition-all shadow-sm",children:"تواصل عبر واتساب للتفعيل"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block",children:"مفتاح التفعيل (Activation Key)"}),e.jsx("input",{type:"text",id:"settings-activation-input",placeholder:"NBR-XXXX-XXXX-XXXX",className:"w-full bg-white p-4 rounded-xl border border-slate-200 focus:border-indigo-500 outline-none font-bold text-center text-xl tracking-[0.2em] placeholder:text-slate-300 placeholder:tracking-normal shadow-sm"}),e.jsx("button",{type:"button",onClick:()=>{const t=document.getElementById("settings-activation-input");$&&$(t.value.trim())},className:"w-full py-4 bg-slate-900 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-indigo-600 transition-all shadow-lg",children:"تفعيل المفتاح الآن"})]})]})]}),l==="BACKUP"&&e.jsxs("div",{className:"p-8 py-12 text-center space-y-8",children:[e.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-50 rounded-3xl flex items-center justify-center mx-auto border border-indigo-100 shadow-sm",children:e.jsx(te,{size:32,className:"text-indigo-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"أرشيف والنسخ الاحتياطي"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"قم بحماية بياناتك عن طريق تصدير نسخة احتياطية دورية أو استرجاع بيانات سابقة."})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsxs("button",{onClick:Re,className:"bg-slate-900 text-white px-8 py-3 rounded-2xl font-bold text-sm flex items-center gap-3 shadow-sm hover:bg-indigo-600 transition-all active:scale-95",children:[e.jsx(te,{size:20})," تصدير نسخة (JSON)"]}),e.jsx("input",{type:"file",ref:X,className:"hidden",accept:".json",onChange:ze}),e.jsxs("button",{onClick:()=>X.current?.click(),className:"bg-white text-slate-600 border border-slate-200 px-8 py-3 rounded-2xl font-bold text-sm flex items-center gap-3 shadow-sm hover:bg-slate-50 transition-all active:scale-95",children:[e.jsx(R,{size:20})," استيراد ملف خارجي"]}),e.jsx("div",{className:"w-full h-px bg-slate-100 my-4"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl mx-auto",children:[M&&e.jsxs("button",{disabled:g,onClick:async()=>{C(!0);try{await M?.()}finally{C(!1)}},className:`bg-indigo-600 text-white px-8 py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-3 shadow-lg shadow-indigo-600/20 transition-all active:scale-95 ${g?"opacity-70 cursor-not-allowed":"hover:bg-indigo-700"}`,children:[e.jsx(Le,{size:22,className:g?"animate-bounce":""}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm",children:"دفع البيانات للسحابة"}),e.jsx("p",{className:"text-[10px] opacity-70 font-normal",children:"رفع التعديلات المحلية إلى قاعدة البيانات السحابية"})]})]}),G&&e.jsxs("button",{disabled:g,onClick:async()=>{if(confirm("⚠️ تنبيه: سحب البيانات سيعوض البيانات المحلية بالبيانات الموجودة في السحابة. هل تريد الاستمرار؟")){C(!0);try{await G()}finally{C(!1)}}},className:`bg-emerald-600 text-white px-8 py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-3 shadow-lg shadow-emerald-600/20 transition-all active:scale-95 ${g?"opacity-70 cursor-not-allowed":"hover:bg-emerald-700"}`,children:[e.jsx($e,{size:22,className:g?"animate-bounce":""}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm",children:"سحب البيانات من السحابة"}),e.jsx("p",{className:"text-[10px] opacity-70 font-normal",children:"تحديث البيانات المحلية من قاعدة البيانات السحابية"})]})]})]})]})]}),l==="COST_CENTERS"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"إضافة مركز تكلفة جديد"}),e.jsxs("form",{onSubmit:t=>{t.preventDefault();const s=t.target.ccName.value,a=t.target.ccCode.value;s&&(pe({name:s,code:a,isActive:!0}),t.target.reset())},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{name:"ccName",type:"text",required:!0,placeholder:"اسم المركز (مثل: رحلة عمرة رجب)...",className:"md:col-span-2 p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none focus:border-indigo-600"}),e.jsx("input",{name:"ccCode",type:"text",placeholder:"الكود (اختياري)...",className:"p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none focus:border-indigo-600"}),e.jsxs("button",{type:"submit",className:"md:col-span-3 bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-indigo-600 transition-all",children:[e.jsx(b,{size:18})," إضافة مركز التكلفة"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:me.map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative group",children:[e.jsx("button",{onClick:()=>be(t.id),className:"absolute top-3 left-3 p-1.5 text-slate-300 hover:text-rose-600 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(f,{size:16})}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-0.5",children:"مركز تكلفة"}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-1",children:t.name}),t.code&&e.jsxs("p",{className:"text-xs font-bold text-indigo-600 mb-4",children:["كود: ",t.code]}),e.jsxs("div",{className:"pt-3 border-t border-slate-100 flex justify-between items-center",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-bold ${t.isActive?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-500"}`,children:t.isActive?"نشط":"معطل"}),e.jsx("p",{className:"text-[9px] text-slate-400 font-bold",children:new Date(t.createdAt).toLocaleDateString("ar-EG")})]})]},t.id))})]}),l==="AUDIT"&&e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-slate-900 text-indigo-400 rounded-xl shadow-sm",children:e.jsx(ee,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"سجل الرقابة والعمليات"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"تتبع كافة التحركات والتعديلات التي تمت على النظام لضمان الشفافية"})]})]}),j?.role==="ADMIN"&&e.jsxs("button",{onClick:we,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-xl font-bold text-sm shadow-lg shadow-indigo-600/20 transition-all active:scale-95",children:[e.jsx(R,{size:18}),"إصلاح ربط العمليات بالموظفين"]})]}),e.jsx("div",{className:"bg-white rounded-3xl overflow-hidden border border-slate-200 shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-900 text-white",children:[e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider",children:"الوقت والتاريخ"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider",children:"المستخدم"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider",children:"العملية"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider",children:"النوع"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-wider",children:"التفاصيل"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:he.slice(0,100).map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-900",children:new Date(t.timestamp).toLocaleDateString("ar-EG")}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:new Date(t.timestamp).toLocaleTimeString("ar-EG")})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-700 font-bold text-xs",children:t.userName.charAt(0)}),e.jsx("span",{className:"font-bold text-xs text-slate-700",children:t.userName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold ${t.action==="CREATE"?"bg-indigo-50 text-indigo-600 border border-indigo-100":t.action==="UPDATE"?"bg-amber-50 text-amber-600 border border-amber-100":t.action==="DELETE"||t.action==="VOID"?"bg-rose-50 text-rose-600 border border-rose-100":"bg-indigo-50 text-indigo-600 border border-indigo-100"}`,children:t.action})}),e.jsx("td",{className:"px-6 py-4 font-bold text-[10px] text-slate-500 uppercase",children:t.entityType}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs font-bold text-slate-900 mb-1",children:t.details}),e.jsxs("div",{className:"flex items-center gap-3",children:[(t.oldValue||t.newValue)&&e.jsx("button",{onClick:()=>{console.log("Old:",t.oldValue?JSON.parse(t.oldValue):"N/A"),console.log("New:",t.newValue?JSON.parse(t.newValue):"N/A"),alert("تمت طباعة تفاصيل القيم القديمة والجديدة في Console للمطورين")},className:"text-[9px] text-indigo-600 hover:text-indigo-700 font-bold",children:"عرض القيم البرمجية (JSON)"}),_&&(t.entityType==="TRANSACTION"||t.entityType==="JOURNAL_ENTRY")&&e.jsxs("button",{onClick:()=>{let s="JOURNAL";if(t.entityType==="TRANSACTION"){const a=(O?.transactions||[]).find(p=>p.id===t.entityId);a?["FLIGHT","FLIGHT_REFUND","FLIGHT_REISSUE"].includes(a.category)?s="FLIGHTS":["HAJJ","UMRAH","HAJJ_UMRAH","INDIVIDUAL_UMRAH"].includes(a.category)||a.programId?s="HAJJ_UMRAH":["EXPENSE_GEN","EXPENSE"].includes(a.category)?s="EXPENSES":a.category==="GENERAL_SERVICE"?s="SERVICES":["CASH","TRANSFER","RECEIPT","PAYMENT"].includes(a.category)?s="TREASURY":a.category==="ACCOUNT_CLEARING"?s="CLEARING":["CLEARING","DOUBTFUL_DEBT"].includes(a.category)?s="JOURNAL":a.category==="ACCOMMODATION"?s="ACCOMMODATION":a.category==="EMPLOYEE_ADVANCE"?s="EMPLOYEES":s="FLIGHTS":s="FLIGHTS"}_(s,t.entityId)},className:"flex items-center gap-1 text-[10px] bg-indigo-50 text-indigo-700 px-2 py-1 rounded-lg hover:bg-indigo-100 transition-colors font-bold",children:[e.jsx(Ge,{size:12}),"مراجعة العملية"]})]})]})})]},t.id))})]})})})]}),l==="SHIFTS"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between bg-slate-50 p-6 rounded-2xl border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-slate-900 text-indigo-400 rounded-xl shadow-sm",children:e.jsx(se,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"إدارة أنظمة الدوام"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"تعريف مواعيد الحضور والانصراف وفترات السماح وقواعد الخصم"})]})]})}),e.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:e.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"اسم النظام (مثلاً: دوام صباحي)"}),e.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none",value:d.name,onChange:t=>u({...d,name:t.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"وقت الحضور"}),e.jsx("input",{type:"time",required:!0,className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none",value:d.startTime,onChange:t=>u({...d,startTime:t.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"وقت الانصراف"}),e.jsx("input",{type:"time",required:!0,className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none",value:d.endTime,onChange:t=>u({...d,endTime:t.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"فترة السماح (بالدقائق)"}),e.jsx("input",{type:"number",required:!0,className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none",value:d.gracePeriod,onChange:t=>u({...d,gracePeriod:parseInt(t.target.value)||0})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"قيمة الخصم"}),e.jsx("input",{type:"number",required:!0,className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none",value:d.deductionRate,onChange:t=>u({...d,deductionRate:parseFloat(t.target.value)||0})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"نوع الخصم"}),e.jsxs("select",{className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none",value:d.deductionType,onChange:t=>u({...d,deductionType:t.target.value}),children:[e.jsx("option",{value:"FIXED",children:"مبلغ ثابت لكل تأخير"}),e.jsx("option",{value:"HOURLY_PERCENT",children:"نسبة من راتب الساعة"})]})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-indigo-600 transition-all",children:[e.jsx(b,{size:18})," إضافة نظام الدوام"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k&&k.map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative group",children:[e.jsx("button",{onClick:()=>ge(t.id),className:"absolute top-3 left-3 p-1.5 text-slate-300 hover:text-rose-600 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(f,{size:16})}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(se,{size:20})}),e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-400 font-bold",children:"المواعيد:"}),e.jsxs("span",{className:"text-slate-900 font-bold",children:[t.startTime," - ",t.endTime]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-400 font-bold",children:"فترة السماح:"}),e.jsxs("span",{className:"text-slate-900 font-bold",children:[t.gracePeriod," دقيقة"]})]}),e.jsxs("div",{className:"flex justify-between text-xs pt-2 border-t border-slate-50",children:[e.jsx("span",{className:"text-slate-400 font-bold",children:"قاعدة الخصم:"}),e.jsxs("span",{className:"text-rose-600 font-bold",children:[t.deductionRate," ",t.deductionType==="FIXED"?"مبلغ ثابت":"% لكل ساعة"]})]})]})]},t.id))})]}),l==="DEPARTMENTS"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between bg-slate-50 p-6 rounded-2xl border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-slate-900 text-indigo-400 rounded-xl shadow-sm",children:e.jsx(W,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"إدارة الأقسام الإدارية"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"تعريف الهيكل التنظيمي للشركة وتوزيع الإدارات"})]})]})}),e.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:e.jsxs("form",{onSubmit:Te,className:"flex gap-4",children:[e.jsx("input",{type:"text",required:!0,placeholder:"اسم القسم (مثلاً: إدارة الحسابات، الموارد البشرية)...",className:"flex-1 p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none focus:border-indigo-600",value:I,onChange:t=>q(t.target.value)}),e.jsxs("button",{type:"submit",className:"bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-600 transition-all",children:[e.jsx(b,{size:18})," إضافة القسم"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative group",children:[e.jsx("button",{onClick:()=>je(t.id),className:"absolute top-3 left-3 p-1.5 text-slate-300 hover:text-rose-600 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(f,{size:16})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(W,{size:20})}),e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:t.name})]})]},t.id))})]}),l==="DESIGNATIONS"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between bg-slate-50 p-6 rounded-2xl border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-slate-900 text-indigo-400 rounded-xl shadow-sm",children:e.jsx(ae,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"إدارة المسميات الوظيفية"}),e.jsx("p",{className:"text-slate-500 font-medium text-xs",children:"تعريف المسميات الوظيفية وربطها بالأقسام المعنية"})]})]})}),e.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:e.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"اسم المسمى الوظيفي"}),e.jsx("input",{type:"text",required:!0,placeholder:"مثلاً: محاسب أول، مدير مكتب...",className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none focus:border-indigo-600",value:A,onChange:t=>J(t.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"القسم التابع له"}),e.jsxs("select",{required:!0,className:"w-full p-3 bg-white border border-slate-200 rounded-xl font-bold outline-none focus:border-indigo-600",value:D,onChange:t=>ke(t.target.value),children:[e.jsx("option",{value:"",children:"اختر القسم..."}),N.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-indigo-600 transition-all",children:[e.jsx(b,{size:18})," إضافة المسمى الوظيفي"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(t=>{const s=N.find(a=>a.id===t.departmentId);return e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 relative group",children:[e.jsx("button",{onClick:()=>ve(t.id),className:"absolute top-3 left-3 p-1.5 text-slate-300 hover:text-rose-600 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(f,{size:16})}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:e.jsx(ae,{size:20})}),e.jsx("h4",{className:"text-lg font-bold text-slate-900",children:t.name})]}),e.jsxs("p",{className:"text-xs font-bold text-slate-400 pr-[52px]",children:["قسم: ",s?.name||"---"]})]},t.id)})})]})]})})};export{nt as default};
