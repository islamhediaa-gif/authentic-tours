import{r as d,R as xe,j as e,U as pe,b as me,T as he,d as ge,X as K}from"./index-CH8mRu_9-v301.js";import{A as v}from"./activity-VAbcHFvJ-v301.js";import{T as X}from"./trash-2-gL00B5Qr-v301.js";import{U as Y}from"./user-plus-CYsQrYCE-v301.js";import{S as be}from"./save-C3CxnAzg-v301.js";import{P as ue}from"./plus-DMxY_0J8-v301.js";import{P as fe}from"./phone-BIr9pw4--v301.js";import{M as je}from"./mail-GfmmIWPE-v301.js";import{P as Ne}from"./pen-CLDoIvYH-v301.js";const Ee=({customers:r,setCustomers:A,deleteCustomer:D,suppliers:P,currentUser:b,transactions:$,journalEntries:w,recordJournalEntry:J,currencies:f,searchTerm:Q="",formatCurrency:y,addAuditLog:O,settings:h,programs:W,initialEditingId:T,onClearInitialEdit:L})=>{const C=b?.permissions?.includes("HIDE_FINANCIAL_AMOUNTS"),Z=b?.role==="BOOKING_EMPLOYEE",R=C||Z,[G,B]=d.useState(!1),[j,E]=d.useState(!1),[g,M]=d.useState(null),[n,c]=d.useState({name:"",phone:"",email:"",openingBalance:"0",openingBalanceCurrency:h?.baseCurrency||"EGP"}),[x,k]=d.useState([]),[U,ee]=d.useState(""),[te,F]=d.useState(null),[se,H]=d.useState(!1),[N,ae]=d.useState(null);xe.useEffect(()=>{if(T){const t=(r||[]).find(s=>s.id===T);t&&(F(t.id),setTimeout(()=>{const s=document.getElementById(`customer-${t.id}`);s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>F(null),3e3))},500)),L?.()}},[T,r,L]);const ne=()=>{x.length===(u||[]).length?k([]):k((u||[]).map(t=>t.id))},le=t=>{k(s=>s.includes(t)?s.filter(a=>a!==t):[...s,t])},ie=()=>{confirm(`هل أنت متأكد من حذف ${x.length} من العملاء المحددين؟`)&&(x.forEach(t=>D(t)),k([]))},oe=Q||U,I=d.useMemo(()=>{const t={};return(r||[]).forEach(s=>{s?.id&&(t[s.id]={base:s.openingBalanceInBase||0,original:s.openingBalance||0})}),(w||[]).forEach(s=>{s?.lines&&(s.lines||[]).forEach(a=>{if(a?.accountId&&a.accountType==="CUSTOMER"&&t[a.accountId]!==void 0){t[a.accountId].base+=(a.debit||0)-(a.credit||0);const o=(r||[]).find(l=>l&&l.id===a.accountId);if(o&&a.currencyCode===o.openingBalanceCurrency){const l=(a.debit||0)>0?1:-1;t[a.accountId].original+=(a.originalAmount||0)*l}}})}),(r||[]).forEach(s=>{s.openingBalanceCurrency!==h?.baseCurrency&&Math.abs(t[s.id]?.original||0)<.01&&t[s.id]&&(t[s.id].base=0)}),t},[r,w,h?.baseCurrency]),S=d.useMemo(()=>{const t=(r||[]).length,s=(r||[]).reduce((l,i)=>{const p=I[i.id]?.base||0;return l+(p>0?p:0)},0),a=(r||[]).reduce((l,i)=>{const p=I[i.id]?.base||0;return l+(p<0?Math.abs(p):0)},0),o=(r||[]).filter(l=>($||[]).some(i=>i&&i.relatedEntityId===l.id&&i.date&&new Date(i.date)>new Date(Date.now()-720*60*60*1e3))).length;return{total:t,receivables:s,payables:a,activeLastMonth:o}},[r,$,I]),re=t=>{t.preventDefault();const s=parseFloat(n.openingBalance)||0,a=(f||[]).find(l=>l.code===n.openingBalanceCurrency)||f&&f[0]||{rateToMain:1},o=s*(a.rateToMain||1);if(console.log("CustomerView: handleSave called",{isEditing:j,editingId:g,formData:n,ob:s,obInBase:o}),j&&g){if((r||[]).some(m=>m.id!==g&&m.name===n.name)){alert("اسم العميل موجود مسبقاً، يرجى اختيار اسم مختلف");return}if((P||[]).some(m=>m.company===n.name)){alert("هذا الاسم موجود كمورد، يرجى اختيار اسم مختلف أو عمل مقاصة إذا لزم الأمر");return}const l=(r||[]).find(m=>m.id===g);if(!l)return;A(m=>(m||[]).map(z=>{if(z.id===g){const q={...z,name:n.name,phone:n.phone,email:n.email,openingBalance:s,openingBalanceCurrency:n.openingBalanceCurrency,openingBalanceInBase:o};return O("UPDATE","CUSTOMER",g,`تعديل بيانات العميل: ${n.name}`,l,q),q}return z}));const i=o-(l.openingBalanceInBase||0),p=s-(l.openingBalance||0);(i!==0||p!==0)&&J(`تعديل رصيد أول المدة للعميل ${n.name}`,new Date().toISOString().split("T")[0],[{accountId:g,accountType:"CUSTOMER",accountName:n.name,debit:i>0?i:0,credit:i<0?-i:0,originalAmount:Math.abs(p),currencyCode:n.openingBalanceCurrency}]),E(!1),M(null)}else{if((r||[]).some(i=>i.name===n.name)){alert("اسم العميل موجود مسبقاً، يرجى اختيار اسم مختلف");return}if((P||[]).some(i=>i.company===n.name)){alert("هذا الاسم موجود كمورد، يرجى اختيار اسم مختلف أو عمل مقاصة إذا لزم الأمر");return}const l={id:Date.now().toString(),name:n.name,phone:n.phone,email:n.email,openingBalance:s,openingBalanceCurrency:n.openingBalanceCurrency,openingBalanceInBase:o,balance:o,currencyBalance:s};A(i=>[...i,l]),O("CREATE","CUSTOMER",l.id,`إضافة عميل جديد: ${l.name}`,void 0,l)}c({name:"",phone:"",email:"",openingBalance:"0",openingBalanceCurrency:h?.baseCurrency||"EGP"}),B(!1)},de=t=>{c({name:t.name,phone:t.phone,email:t.email||"",openingBalance:(t.openingBalance||0).toString(),openingBalanceCurrency:t.openingBalanceCurrency||"EGP"}),M(t.id),E(!0),B(!0),window.scrollTo({top:0,behavior:"smooth"})},V=()=>{B(!1),E(!1),M(null),c({name:"",phone:"",email:"",openingBalance:"0",openingBalanceCurrency:h?.baseCurrency||"EGP"})},u=(r||[]).filter(t=>{const s=(oe||"").toLowerCase();return(t.name||"").toLowerCase().includes(s)||(t.phone||"").toLowerCase().includes(s)||t.email&&t.email.toLowerCase().includes(s)}),ce=t=>{ae(t),H(!0)},_=d.useMemo(()=>{if(!N)return[];const t=[];return(w||[]).forEach(s=>{(s.lines||[]).forEach(a=>{a.accountId===N&&a.accountType==="CUSTOMER"&&t.push({id:`${s.id}-${a.id}`,date:s.date,description:s.description,refNo:s.refNo,debit:a.debit,credit:a.credit,amount:a.originalAmount||a.debit||a.credit,currencyCode:a.currencyCode||h?.baseCurrency,programId:a.programId,componentId:a.componentId})})}),t.sort((s,a)=>{const o=s.date?new Date(s.date).getTime():0;return(a.date?new Date(a.date).getTime():0)-o})},[N,w,h?.baseCurrency]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-4 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-600 to-indigo-700 text-white rounded-2xl flex items-center justify-center shadow-md",children:e.jsx(pe,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"إجمالي العملاء"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:S.total})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-4 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:e.jsx(me,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"مستحقات (مدين)"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600 tracking-tight",children:R?"****":y(S.receivables||0)})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-4 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-rose-500 to-rose-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:e.jsx(he,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"مقدمات (دائن)"}),e.jsx("p",{className:"text-2xl font-bold text-rose-600 tracking-tight",children:R?"****":y(S.payables||0)})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-4 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-amber-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:e.jsx(v,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"نشط مؤخراً"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:S.activeLastMonth})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mt-8",children:[e.jsxs("div",{className:"relative flex-1 max-w-2xl group",children:[e.jsx(ge,{className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{type:"text",placeholder:"بحث في سجل العملاء...",className:"w-full pr-14 pl-10 py-3 bg-white border border-slate-200 rounded-2xl focus:border-indigo-600 outline-none font-bold text-sm shadow-sm transition-all placeholder:text-slate-400",value:U,onChange:t=>ee(t.target.value)})]}),!G&&e.jsxs("div",{className:"flex items-center gap-3",children:[x.length>0&&b.role==="ADMIN"&&e.jsxs("button",{onClick:ie,className:"bg-rose-50 text-rose-600 px-6 py-3 rounded-xl font-bold text-sm flex items-center gap-3 hover:bg-rose-100 transition-all shadow-sm active:scale-95",children:[e.jsx(X,{size:18}),"حذف المحدد (",x.length,")"]}),e.jsxs("button",{onClick:()=>B(!0),className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold text-sm flex items-center gap-3 hover:bg-indigo-600 transition-all shadow-md active:scale-95",children:[e.jsx(Y,{size:18}),"إضافة عميل جديد"]})]})]}),G&&e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-lg animate-in fade-in slide-in-from-top-4 duration-500 relative overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-1.5 h-8 bg-indigo-600 rounded-full"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 tracking-tight",children:j?"تعديل بيانات العميل":"تسجيل عميل جديد"})]}),e.jsx("button",{onClick:V,className:"text-slate-400 hover:text-rose-500 transition-all bg-slate-50 hover:bg-rose-50 p-2 rounded-xl",children:e.jsx(K,{size:20})})]}),e.jsxs("form",{onSubmit:re,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 relative z-10",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1",children:"الاسم بالكامل"}),e.jsx("input",{required:!0,placeholder:"اسم العميل...",className:"p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-indigo-600 outline-none font-bold text-sm text-slate-900 transition-all focus:bg-white",value:n.name,onChange:t=>c({...n,name:t.target.value})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1",children:"رقم الهاتف"}),e.jsx("input",{placeholder:"01xxxxxxxxx",className:"p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-indigo-600 outline-none font-bold text-sm text-slate-900 transition-all focus:bg-white",value:n.phone,onChange:t=>c({...n,phone:t.target.value})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1",children:"رصيد البداية"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"number",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-indigo-600 outline-none font-bold text-sm text-center text-slate-900 transition-all focus:bg-white",value:n.openingBalance,onChange:t=>c({...n,openingBalance:t.target.value})}),e.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2",children:e.jsx("select",{className:"bg-white border border-slate-200 rounded-lg px-2 py-1 font-bold text-[10px] outline-none focus:border-indigo-600 transition-all shadow-sm cursor-pointer",value:n.openingBalanceCurrency,onChange:t=>c({...n,openingBalanceCurrency:t.target.value}),children:(f||[]).map(t=>e.jsx("option",{value:t.code,children:t.code},t.code))})})]})]}),e.jsxs("div",{className:"lg:col-span-3 flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 ml-1",children:"البريد الإلكتروني (اختياري)"}),e.jsx("input",{type:"email",placeholder:"customer@example.com",className:"p-3 bg-slate-50 border border-slate-200 rounded-xl focus:border-indigo-600 outline-none font-bold text-sm text-slate-900 transition-all focus:bg-white",value:n.email,onChange:t=>c({...n,email:t.target.value})})]}),e.jsxs("div",{className:"lg:col-span-3 flex justify-end gap-4 mt-6 pt-6 border-t border-slate-100",children:[e.jsx("button",{type:"button",onClick:V,className:"px-6 py-2.5 text-slate-400 font-bold text-sm hover:text-rose-600 transition-colors",children:"إلغاء"}),e.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-8 py-2.5 rounded-xl font-bold text-sm shadow-md hover:bg-indigo-700 transition-all flex items-center gap-2 active:scale-95",children:[j?e.jsx(be,{size:18}):e.jsx(ue,{size:18}),j?"تحديث البيانات":"حفظ البيانات"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden mt-8",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[b?.role==="ADMIN"&&e.jsx("th",{className:"px-6 py-4 text-center w-10",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:(u||[]).length>0&&x.length===(u||[]).length,onChange:ne})}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-right",children:"ملف العميل"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center",children:"الرصيد الافتتاحي"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-right",children:"الوضعية المالية"}),e.jsx("th",{className:"px-6 py-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center",children:"التحكم"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:(u||[]).map(t=>e.jsxs("tr",{id:`customer-${t.id}`,className:`hover:bg-slate-50 bg-opacity-50 transition-all group ${te===t.id?"ring-4 ring-indigo-500 border-indigo-500 bg-indigo-50/30 scale-[1.002] z-10 shadow-2xl":x.includes(t.id)?"bg-indigo-50 bg-opacity-30":""}`,children:[b?.role==="ADMIN"&&e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:x.includes(t.id),onChange:()=>le(t.id)})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 text-slate-600 rounded-xl flex items-center justify-center font-bold text-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-300",children:(t.name||"").charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm text-slate-900 group-hover:text-indigo-600 transition-colors tracking-tight",children:t.name}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-slate-400 font-bold mt-1",children:[t.phone&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(fe,{size:12,className:"text-slate-300"})," ",t.phone]}),t.email&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(je,{size:12,className:"text-slate-300"})," ",t.email]})]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm font-bold text-slate-600",children:C?"****":(t.openingBalance||0).toLocaleString()}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tight mt-0.5",children:(f||[]).find(s=>s&&s.code===t.openingBalanceCurrency)?.code||"EGP"})]})}),e.jsx("td",{className:"px-6 py-4",children:(()=>{const s=I[t.id]||{base:0,original:0},a=s.base>=0;return e.jsxs("div",{className:`inline-flex flex-col items-end px-4 py-2 rounded-2xl border ${a?"bg-emerald-50 bg-opacity-30 border-emerald-100 text-emerald-700":"bg-rose-50 bg-opacity-30 border-rose-100 text-rose-700"}`,children:[e.jsx("span",{className:"text-sm font-bold tracking-tight",children:C?"****":y(Math.abs(s.base))}),t.openingBalanceCurrency!=="EGP"&&Math.abs(s.original)>.01&&e.jsxs("span",{className:"text-[10px] font-bold opacity-80 border-t border-current mt-1 pt-0.5",children:[C?"****":Math.abs(s.original).toLocaleString()," ",t.openingBalanceCurrency]}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a?"bg-emerald-500":"bg-rose-500"}`}),e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tight opacity-70",children:a?"مدين":"دائن"})]})]})})()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>ce(t.id),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"كشف حساب",children:e.jsx(v,{size:16})}),b?.role==="ADMIN"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>de(t),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"تعديل",children:e.jsx(Ne,{size:16})}),e.jsx("button",{onClick:()=>D(t.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"حذف",children:e.jsx(X,{size:16})})]})]})})]},t.id))})]})}),u.length===0&&e.jsxs("div",{className:"p-20 text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-6 border border-dashed border-slate-200",children:e.jsx(Y,{size:40,className:"text-slate-200"})}),e.jsx("h4",{className:"text-lg font-bold text-slate-400 mb-1",children:"لا توجد سجلات مطابقة"}),e.jsx("p",{className:"text-slate-300 font-bold text-sm",children:"جرّب استخدام كلمات بحث مختلفة"})]})]}),se&&N&&e.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-slate-200 animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50 bg-opacity-50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-900 text-indigo-400 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(v,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"كشف حساب العميل"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm",children:(r||[]).find(t=>t.id===N)?.name})]})]}),e.jsx("button",{onClick:()=>H(!1),className:"text-slate-400 hover:text-rose-500 hover:bg-rose-50 p-2.5 rounded-2xl transition-all",children:e.jsx(K,{size:24})})]}),e.jsx("div",{className:"p-8 overflow-y-auto max-h-[70vh]",children:(_||[]).length===0?e.jsxs("div",{className:"py-20 text-center flex flex-col items-center",children:[e.jsx(v,{size:48,className:"text-slate-200 mb-4"}),e.jsx("p",{className:"text-slate-400 font-bold",children:"لا توجد عمليات لهذا العميل حتى الآن"})]}):e.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-100",children:e.jsxs("table",{className:"w-full text-right border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[e.jsx("th",{className:"p-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest w-24",children:"التاريخ"}),e.jsx("th",{className:"p-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest w-28",children:"المرجع"}),e.jsx("th",{className:"p-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"البيان"}),e.jsx("th",{className:"p-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"المبلغ"}),e.jsx("th",{className:"p-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center",children:"النوع"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:(_||[]).slice(0,50).map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 bg-opacity-50 transition-all group",children:[e.jsx("td",{className:"p-4 text-xs font-bold text-slate-400",children:t.date}),e.jsx("td",{className:"p-4",children:t.refNo&&e.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-[10px] font-black border border-indigo-100",children:t.refNo})}),e.jsxs("td",{className:"p-4 text-sm font-bold text-slate-700",children:[e.jsx("div",{children:t.description}),t.componentId&&e.jsxs("div",{className:"text-[10px] text-indigo-500 mt-1 flex items-center gap-1",children:[e.jsx(v,{size:10}),(W||[]).find(o=>o&&o.id===t.programId)?.components?.find(o=>o&&o.id===t.componentId)?.name||"مكون غير معروف"]})]}),e.jsxs("td",{className:"p-4 text-left",children:[e.jsx("span",{className:`font-bold ${t.credit>0?"text-rose-600":"text-emerald-600"}`,children:y(t.amount)}),e.jsx("span",{className:"text-[10px] text-slate-400 mr-1",children:t.currencyCode})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded-full ${t.credit>0?"bg-rose-50 text-rose-600":"bg-emerald-50 text-emerald-600"}`,children:t.credit>0?"دفع/دائن":"فاتورة/مدين"})})]},t.id))})]})})})]})})]})};export{Ee as default};
